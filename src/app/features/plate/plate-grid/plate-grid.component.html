<div class="grid-container">
    @if (gridReady()) {
    <div class="master-plate-wrapper">
        <div class="spacer"></div>

        <div class="column-headers">
            @for (col of plateConfig()?.columns; track col) {
            <div class="header-cell">{{ col }}</div>
            }
        </div>

        <div class="row-headers">
            @for (row of plateConfig()?.rows; track row) {
            <div class="header-cell">{{ row }}</div>
            }
        </div>

        <div class="plate-layout" [style.grid-template-columns]="'repeat(' + plateConfig()?.columns?.length + ', 1fr)'">
            @for (well of plateConfig()?.wells; track well.WellIndex) {
            <div class="well" [class.normal]="well.isNormal"
                [attr.aria-label]="well.WellName + (well.isNormal ? ' Normal' : ' Low')">
                {{ well.isNormal ? 'n' : 'L' }}
            </div>
            }
        </div>
    </div>
    } @else {
    <div class="empty-state">
        <p>No wells found. Please upload a plate.</p>
    </div>
    }
</div>